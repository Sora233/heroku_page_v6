<%= render 'shared/page_title', page_title: "My Posts" %>
<% if @posts.empty? %>
  You don't have Any Post
<% else %>
  <ul>
    <% @posts.each do |post| %>
      <% cache post do %>
        <li>
          <%= link_to "#{post.title}", post_path(post) %>
          <% if post.published %>
            <span class="badge badge-success">published</span>
          <% else %>
            <span class="badge badge-secondary">draft</span>
          <% end %>
        </li>
        <br/>
      <% end %>
    <% end %>
  </ul>
  <%= paginate @posts %>
<% end %>
<br/>
<div class="d-flex justify-content-end">
  <% if can? :new, Post %>
    <div class="p-2">
      <%= link_to 'New Post', new_post_path, class: "btn btn-success" %><br/>
    </div>
  <% end %>
  <div class="p-2">
    <%= link_to 'Back To Home', root_path, class: "btn btn-secondary" %>
  </div>
</div>